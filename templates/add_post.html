{% extends "base.html" %}
{% block title %}Create new blog post{% endblock %}


{% block content %}

<!-- Add Post page -->
<main class="bg-dark">
    <section id="add-book" class="container pb-5">
        <div class="row justify-content-center">
            <div class="col col-md-8">
                <h2 class="page-title mt-5 red-c">Add Post</h2>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col col-md-8">
                <div class="form-group">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <button class="btn btn-red mx-2">Post</button>
                        <a class="btn btn-red" href="{% url 'blog' %}">back</a>
                    </form>    
                </div>
            </div>
        </div>
      </section>
</main>


  <!-- <section class="vh-100 bg-image">
    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-9 col-lg-7 col-xl-6">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body p-5 card-bg">
                <h2 class="text-uppercase text-center red-c">Add Post</h2>
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button class="btn border-dark bd-highlight text-black btn-clear">Post</button>
                    <a class="btn border-dark bd-highlight text-black btn-clear" href="{% url 'blog' %}">back</a>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> -->

{% endblock %}

{% block js %}
<script>
    // convert Post title to slug-format on front-end, help from mentor Tim Nelson
    /* jshint esversion: 11 */
    let title = document.getElementById("id_title");
    let slug = document.getElementById("id_slug");
    title?.addEventListener("keyup", convertToSlug);
    slug?.addEventListener("keyup", convertToSlug);

    function convertToSlug() {
      slug.value = title.value.toLowerCase()
                 .replace(/ /g, '-')
                 .replace(/[^\w-]+/g, '');
    }
</script>
{% endblock %}
